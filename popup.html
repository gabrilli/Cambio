<!DOCTYPE html>
<html lang="pt-br">
<head>
<title>ID Digital</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://cdn.jsdelivr.net/jsbarcode/3.6.0/JsBarcode.all.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="conectareth.js"></script>
<script src="abi.js"></script>

</head>
<body>
<br>  

  <div id = "cliente">
  <form action="#" method="POST" name="formimprimirid" id="formimprimirid">
      <div>
      <label for="CPF">CPF</label>:
      <input type="text" name="CPF"
       id="CPF" size=100 maxlenght=100
       placeholder="CPF" />
    </div>  
      </br>
      </br>
     <div>
      <label for="Senha">Senha</label>:
      <input type="password" name="Senha"
       id="Senha" size=100 maxlenght=100
       placeholder="Senha" />
  </div>

  
<br>

<div>
<button  class="btn btn-primary" onclick= "imprimirid()">Gerar Documento</button>
</div>    
</form> 
<hr>  
  
  

<h2>ID Digital</h2>
<p>ID Digital criado na Blockchain da Ethereum</p>
<p>Powered by Simões Advogados</p>

<div>
<div>
 <div id="resultadoPesquisa">

  </div>
   <div id="imprimir">
    <form action="#" method="GET" name="frmid" id="frmid">
     
        <label for="Nome">Nome:</label>: <input type="text" name="Nome"  id="Nome"/>
        <label for="CPF">CPF:</label>:  <input type="number" name="CPF"  id="CPF"/>
        <label for="Celular">Celular:</label>: <input type="number" name="Celular"id="Celular"/>  
        <label for="Identificador">Identificador:</label>: <input type="text" name="Identificador"  id="Identificador"/>
        <label for="Timestamp">Timestamp:</label>: <input type="number" name="Timestamp"  id="Timestamp"/>
        <label for="Bloco">Bloco:</label>: <input type="number" name="Bloco"  id="Bloco"/>
        <label for="Latitude">Latitude:</label>:  <input type="text" name="Latitude"  id="Latitude"/>
        <label for="Longitude">Longitude:</label>: <input type="text" name="Longitude"  id="Longitude"/>
        <label for="IP">Longitude:</label>: <input type="text" name="IP"  id="IP"/>
        <br>
      </div>



<div>
  
  <onblur="GerarCódigoDeBarras1(this)"/>
</div>
<svg id="codBarras1"></svg>

<div>
  
  <onblur="GerarCódigoDeBarras2(this)"/>
</div>
<svg id="codBarras2"></svg>




</body>

<script>
    var frm2 = document.formimprimirid;
    function imprimirid() {
        event.preventDefault();
        $("#resultadoPesquisa").html("");
        contract.imprimirid(frm2.CPF.value, frm2.Senha.value, function (erro, resultado) {
            if (erro) {
                console.log("pesquisarImovel");
                console.error(erro);
                alert("Houve um erro ao pesquisar o nome do proprietário");
                frmid.Nome.value = "";
                frmid.CPF.value = "";
                frmid.Identificador.value = "";
                frmid.Timestamp.value = "";
                frmid.Bloco.value = "";
                frmid.Latitude.value = "";
                frmid.Longitude.value = "";
                frmid.IP.value = "";
                return
            }
            $("#resultadoPesquisa").html("O proprietário do imóvel informado é: " + resultado);
        })
    }
</script>

/*
    var geo = document.getElementById("geo");

    function getLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
      } else {
        geo.innerHTML = "Geolocation is not supported by this browser.";
      }
    }
        
    function showPosition(position) {
      geo.innerHTML = "Latitude: " + position.coords.latitude + 
      "<br>Longitude: " + position.coords.longitude; 
      JsBarcode('#codBarras1', position.coords.latitude)
      JsBarcode('#codBarras2', position.coords.longitude)
    }
    */

    

</html>
